!function(a){!function(a){function b(b){return function(e,f){if("string"==typeof f){var g=c.exec(f);if(g)return new Date(f);if(!JSON.parseMsAjaxDate)return f;if(g=d.exec(f)){var h=g[1].split(/[-+,.]/);return new Date(h[0]?+h[0]:0-+h[1])}}return b!==a?b(e,f):f}}if(this.JSON&&!this.JSON.dateParser){var c=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.{0,1}\d*))(?:Z|(\+|-)([\d|:]*))?$/,d=/^\/Date\((d|-|.*)\)[\/|\\]$/;JSON.parseMsAjaxDate=!1,JSON.useDateParser=function(a){"undefined"!=typeof a?JSON._parseSaved&&(JSON.parse=JSON._parseSaved,JSON._parseSaved=null):JSON.parseSaved||(JSON._parseSaved=JSON.parse,JSON.parse=JSON.parseWithDate)},JSON.dateParser=b(),JSON.parseWithDate=function(a,c){var d=JSON._parseSaved?JSON._parseSaved:JSON.parse;try{var e=d(a,b(c));return e}catch(f){throw new Error("JSON content could not be parsed")}},JSON.dateStringToDate=function(a,b){if(b||(b=null),!a)return b;if(a.getTime)return a;('"'===a[0]||"'"===a[0])&&(a=a.substr(1,a.length-2));var e=c.exec(a);if(e)return new Date(a);if(!JSON.parseMsAjaxDate)return b;if(e=d.exec(a)){var f=e[1].split(/[-,.]/);return new Date(+f[0])}return b}}}(),function(){"use strict";function b(a){return"function"==typeof a||"object"==typeof a&&null!==a}function c(a){return"function"==typeof a}function d(a){return"object"==typeof a&&null!==a}function e(a,b){$[T]=a,$[T+1]=b,T+=2,2===T&&(Q?Q(l):R())}function f(a){Q=a}function g(){var a=process.nextTick,b=process.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(a=setImmediate),function(){a(l)}}function h(){return function(){P(l)}}function i(){var a=0,b=new X(l),c=document.createTextNode("");return b.observe(c,{characterData:!0}),function(){c.data=a=++a%2}}function j(){var a=new MessageChannel;return a.port1.onmessage=l,function(){a.port2.postMessage(0)}}function k(){return function(){setTimeout(l,1)}}function l(){for(var a=0;T>a;a+=2){var b=$[a],c=$[a+1];b(c),$[a]=void 0,$[a+1]=void 0}T=0}function m(){try{var a=require,b=a("vertx");return P=b.runOnLoop||b.runOnContext,h()}catch(c){return k()}}function n(){}function o(){return new TypeError("You cannot resolve a promise with itself")}function p(){return new TypeError("A promises callback cannot return that same promise.")}function q(a){try{return a.then}catch(b){return ca.error=b,ca}}function r(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function s(a,b,c){U(function(a){var d=!1,e=r(c,b,function(c){d||(d=!0,b!==c?v(a,c):x(a,c))},function(b){d||(d=!0,y(a,b))},"Settle: "+(a._label||" unknown promise"));!d&&e&&(d=!0,y(a,e))},a)}function t(a,b){b._state===aa?x(a,b._result):b._state===ba?y(a,b._result):z(b,void 0,function(b){v(a,b)},function(b){y(a,b)})}function u(a,b){if(b.constructor===a.constructor)t(a,b);else{var d=q(b);d===ca?y(a,ca.error):void 0===d?x(a,b):c(d)?s(a,b,d):x(a,b)}}function v(a,c){a===c?y(a,o()):b(c)?u(a,c):x(a,c)}function w(a){a._onerror&&a._onerror(a._result),A(a)}function x(a,b){a._state===_&&(a._result=b,a._state=aa,0!==a._subscribers.length&&U(A,a))}function y(a,b){a._state===_&&(a._state=ba,a._result=b,U(w,a))}function z(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null,e[f]=b,e[f+aa]=c,e[f+ba]=d,0===f&&a._state&&U(A,a)}function A(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d,e,f=a._result,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?D(c,d,e,f):e(f);a._subscribers.length=0}}function B(){this.error=null}function C(a,b){try{return a(b)}catch(c){return da.error=c,da}}function D(a,b,d,e){var f,g,h,i,j=c(d);if(j){if(f=C(d,e),f===da?(i=!0,g=f.error,f=null):h=!0,b===f)return void y(b,p())}else f=e,h=!0;b._state!==_||(j&&h?v(b,f):i?y(b,g):a===aa?x(b,f):a===ba&&y(b,f))}function E(a,b){try{b(function(b){v(a,b)},function(b){y(a,b)})}catch(c){y(a,c)}}function F(a,b){var c=this;c._instanceConstructor=a,c.promise=new a(n),c._validateInput(b)?(c._input=b,c.length=b.length,c._remaining=b.length,c._init(),0===c.length?x(c.promise,c._result):(c.length=c.length||0,c._enumerate(),0===c._remaining&&x(c.promise,c._result))):y(c.promise,c._validationError())}function G(a){return new ea(this,a).promise}function H(a){function b(a){v(e,a)}function c(a){y(e,a)}var d=this,e=new d(n);if(!S(a))return y(e,new TypeError("You must pass an array to race.")),e;for(var f=a.length,g=0;e._state===_&&f>g;g++)z(d.resolve(a[g]),void 0,b,c);return e}function I(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(n);return v(c,a),c}function J(a){var b=this,c=new b(n);return y(c,a),c}function K(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function L(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(a){this._id=ja++,this._state=void 0,this._result=void 0,this._subscribers=[],n!==a&&(c(a)||K(),this instanceof M||L(),E(this,a))}function N(){var a;if("undefined"!=typeof global)a=global;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(b){throw new Error("polyfill failed because global object is unavailable in this environment")}var c=a.Promise;(!c||"[object Promise]"!==Object.prototype.toString.call(c.resolve())||c.cast)&&(a.Promise=ka)}var O;O=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var P,Q,R,S=O,T=0,U=({}.toString,e),V="undefined"!=typeof a?a:void 0,W=V||{},X=W.MutationObserver||W.WebKitMutationObserver,Y="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3);R=Y?g():X?i():Z?j():void 0===V&&"function"==typeof require?m():k();var _=void 0,aa=1,ba=2,ca=new B,da=new B;F.prototype._validateInput=function(a){return S(a)},F.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},F.prototype._init=function(){this._result=new Array(this.length)};var ea=F;F.prototype._enumerate=function(){for(var a=this,b=a.length,c=a.promise,d=a._input,e=0;c._state===_&&b>e;e++)a._eachEntry(d[e],e)},F.prototype._eachEntry=function(a,b){var c=this,e=c._instanceConstructor;d(a)?a.constructor===e&&a._state!==_?(a._onerror=null,c._settledAt(a._state,b,a._result)):c._willSettleAt(e.resolve(a),b):(c._remaining--,c._result[b]=a)},F.prototype._settledAt=function(a,b,c){var d=this,e=d.promise;e._state===_&&(d._remaining--,a===ba?y(e,c):d._result[b]=c),0===d._remaining&&x(e,d._result)},F.prototype._willSettleAt=function(a,b){var c=this;z(a,void 0,function(a){c._settledAt(aa,b,a)},function(a){c._settledAt(ba,b,a)})};var fa=G,ga=H,ha=I,ia=J,ja=0,ka=M;M.all=fa,M.race=ga,M.resolve=ha,M.reject=ia,M._setScheduler=f,M._asap=U,M.prototype={constructor:M,then:function(a,b){var c=this,d=c._state;if(d===aa&&!a||d===ba&&!b)return this;var e=new this.constructor(n),f=c._result;if(d){var g=arguments[d-1];U(function(){D(d,e,g,f)})}else z(c,e,a,b);return e},"catch":function(a){return this.then(null,a)}};var la=N,ma={Promise:ka,polyfill:la};"function"==typeof define&&define.amd?define(function(){return ma}):"undefined"!=typeof module&&module.exports?module.exports=ma:"undefined"!=typeof this&&(this.ES6Promise=ma),la()}.call(this),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("uxhr",b):a.uxhr=b()}(this,function(){"use strict";return function(b,c,d){c=c||"",d=d||{};var e=d.complete||function(){},f=d.success||function(){},g=d.error||function(){},h=d.timeout||0,i=d.ontimeout||function(){},j=d.onprogress||function(){},k=d.headers||{},l=d.method||"GET",m=d.sync||!1,n=function(){return 0===b.indexOf("http")&&"undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest}();if(!n)throw new Error("Browser doesn't support XHR");var o="undefined"!=typeof a.FormData;if("string"!=typeof c&&o&&!(c instanceof a.FormData)){var p=[];for(var q in c)p.push(q+"="+c[q]);c=p.join("&")}if("GET"===l&&c&&(b+=b.indexOf("?")>=0?"&"+c:"?"+c),n.open(l,b,!m),m||"ontimeout"in n&&(n.timeout=h,n.ontimeout=i),"onprogress"in n&&(n.onprogress=j),n.onload=function(){e(n.responseText,n.status),f(n.responseText)},n.onerror=function(){e(n.responseText),g(n.responseText,n.status)},"undefined"!=typeof n.setRequestHeader)for(var r in k)n.setRequestHeader(r,k[r]);return n.send("GET"!==l?c:null),n}}),function(){function b(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function c(a,c){var d=typeof c;if(a=a.cache,"boolean"==d||null==c)return a[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:s+c;return a=(a=a[d])&&a[e],"object"==d?a&&b(a,c)>-1?0:-1:a?0:-1}function d(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:s+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function e(a){return a.charCodeAt(0)}function f(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function g(a){var b=-1,c=a.length,e=a[0],f=a[c/2|0],g=a[c-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=j();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=j();for(i.array=a,i.cache=h,i.push=d;++b<c;)i.push(a[b]);return i}function h(a){return"\\"+W[a]}function i(){return p.pop()||[]}function j(){return q.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function k(a){a.length=0,p.length<u&&p.push(a)}function l(a){var b=a.cache;b&&l(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,q.length<u&&q.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function n(a){function d(a){return a&&"object"==typeof a&&!Zc(a)&&Hc.call(a,"__wrapped__")?a:new p(a)}function p(a,b){this.__chain__=!!b,this.__wrapped__=a}function q(a){function b(){if(d){var a=m(d);Ic.apply(a,arguments)}if(this instanceof b){var f=W(c.prototype),g=c.apply(f,a||arguments);return Ea(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Yc(b,a),b}function u(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Ea(a);if(!g)return a;var h=Ac.call(a);if(!S[h])return a;var j=Wc[h];switch(h){case L:case M:return new j(+a);case O:case R:return new j(a);case Q:return f=j(a.source,A.exec(a)),f.lastIndex=a.lastIndex,f}var l=Zc(a);if(b){var n=!d;d||(d=i()),e||(e=i());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=l?j(a.length):{}}else f=l?m(a):ed({},a);return l&&(Hc.call(a,"index")&&(f.index=a.index),Hc.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(l?Ya:hd)(a,function(a,g){f[g]=u(a,b,c,d,e)}),n&&(k(d),k(e)),f):f}function W(a,b){return Ea(a)?Nc(a):{}}function Y(a,b,c){if("function"!=typeof a)return Zb;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Xc.funcNames&&(d=!a.name),d=d||!Xc.funcDecomp,!d)){var e=Fc.call(a);Xc.funcNames||(d=!B.test(e)),d||(d=F.test(e),Yc(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Ib(a,b)}function Z(a){function b(){var a=i?g:this;if(e){var o=m(e);Ic.apply(o,arguments)}if((f||k)&&(o||(o=m(arguments)),f&&Ic.apply(o,f),k&&o.length<h))return d|=16,Z([c,l?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[n]),this instanceof b){a=W(c.prototype);var p=c.apply(a,o);return Ea(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,n=c;return Yc(b,a),b}function $(a,d){var e=-1,f=ia(),h=a?a.length:0,i=h>=t&&f===b,j=[];if(i){var k=g(d);k?(f=c,d=k):i=!1}for(;++e<h;){var m=a[e];f(d,m)<0&&j.push(m)}return i&&l(d),j}function _(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Zc(h)||ma(h))){b||(h=_(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function ba(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,j=typeof b;if(!(a!==a||a&&V[h]||b&&V[j]))return!1;if(null==a||null==b)return a===b;var l=Ac.call(a),m=Ac.call(b);if(l==J&&(l=P),m==J&&(m=P),l!=m)return!1;switch(l){case L:case M:return+a==+b;case O:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case Q:case R:return a==vc(b)}var n=l==K;if(!n){var o=Hc.call(a,"__wrapped__"),p=Hc.call(b,"__wrapped__");if(o||p)return ba(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(l!=P)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(Da(q)&&q instanceof q&&Da(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=i()),f||(f=i());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var v=t,w=b[u];if(d)for(;v--&&!(g=ba(a[v],w,c,d,e,f)););else if(!(g=ba(a[u],w,c,d,e,f)))break}}else gd(b,function(b,h,i){return Hc.call(i,h)?(u++,g=Hc.call(a,h)&&ba(a[h],b,c,d,e,f)):void 0}),g&&!d&&gd(a,function(a,b,c){return Hc.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(k(e),k(f)),g}function ca(a,b,c,d,e){(Zc(b)?Ya:hd)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=Zc(b))||id(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?Zc(j)?j:[]:id(j)?j:{}),d.push(b),e.push(j),l||ca(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function da(a,b){return a+Ec(Vc()*(b-a+1))}function ea(a,d,e){var f=-1,h=ia(),j=a?a.length:0,m=[],n=!d&&j>=t&&h===b,o=e||n?i():m;if(n){var p=g(o);h=c,o=p}for(;++f<j;){var q=a[f],r=e?e(q,f,a):q;(d?!f||o[o.length-1]!==r:h(o,r)<0)&&((e||n)&&o.push(r),m.push(q))}return n?(k(o.array),l(o)):e&&k(o),m}function fa(a){return function(b,c,e){var f={};c=d.createCallback(c,e,3);var g=-1,h=b?b.length:0;if("number"==typeof h)for(;++g<h;){var i=b[g];a(f,i,c(i,g,b),b)}else hd(b,function(b,d,e){a(f,b,c(b,d,e),e)});return f}}function ga(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Da(a))throw new wc;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;if(l&&l!==!0)return l=m(l),l[2]&&(l[2]=m(l[2])),l[3]&&(l[3]=m(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Ic.apply(l[2]||(l[2]=[]),c),k&&Lc.apply(l[3]||(l[3]=[]),d),l[1]|=b,ga.apply(null,l);var n=1==b||17===b?q:Z;return n([a,b,c,d,e,f])}function ha(a){return ad[a]}function ia(){var a=(a=d.indexOf)===rb?b:a;return a}function ja(a){return"function"==typeof a&&Bc.test(a)}function ka(a){var b,c;return a&&Ac.call(a)==P&&(b=a.constructor,!Da(b)||b instanceof b)?(gd(a,function(a,b){c=b}),"undefined"==typeof c||Hc.call(a,c)):!1}function la(a){return bd[a]}function ma(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==J||!1}function na(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),u(a,b,"function"==typeof c&&Y(c,d,1))}function oa(a,b,c){return u(a,!0,"function"==typeof b&&Y(b,c,1))}function pa(a,b){var c=W(a);return b?ed(c,b):c}function qa(a,b,c){var e;return b=d.createCallback(b,c,3),hd(a,function(a,c,d){return b(a,c,d)?(e=c,!1):void 0}),e}function ra(a,b,c){var e;return b=d.createCallback(b,c,3),ta(a,function(a,c,d){return b(a,c,d)?(e=c,!1):void 0}),e}function sa(a,b,c){var d=[];gd(a,function(a,b){d.push(b,a)});var e=d.length;for(b=Y(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function ta(a,b,c){var d=_c(a),e=d.length;for(b=Y(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function ua(a){var b=[];return gd(a,function(a,c){Da(a)&&b.push(c)}),b.sort()}function va(a,b){return a?Hc.call(a,b):!1}function wa(a){for(var b=-1,c=_c(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function xa(a){return a===!0||a===!1||a&&"object"==typeof a&&Ac.call(a)==L||!1}function ya(a){return a&&"object"==typeof a&&Ac.call(a)==M||!1}function za(a){return a&&1===a.nodeType||!1}function Aa(a){var b=!0;if(!a)return b;var c=Ac.call(a),d=a.length;return c==K||c==R||c==J||c==P&&"number"==typeof d&&Da(a.splice)?!d:(hd(a,function(){return b=!1}),b)}function Ba(a,b,c,d){return ba(a,b,"function"==typeof c&&Y(c,d,2))}function Ca(a){return Pc(a)&&!Qc(parseFloat(a))}function Da(a){return"function"==typeof a}function Ea(a){return!(!a||!V[typeof a])}function Fa(a){return Ha(a)&&a!=+a}function Ga(a){return null===a}function Ha(a){return"number"==typeof a||a&&"object"==typeof a&&Ac.call(a)==O||!1}function Ia(a){return a&&"object"==typeof a&&Ac.call(a)==Q||!1}function Ja(a){return"string"==typeof a||a&&"object"==typeof a&&Ac.call(a)==R||!1}function Ka(a){return"undefined"==typeof a}function La(a,b,c){var e={};return b=d.createCallback(b,c,3),hd(a,function(a,c,d){e[c]=b(a,c,d)}),e}function Ma(a){var b=arguments,c=2;if(!Ea(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=Y(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=m(arguments,1,c),f=-1,g=i(),h=i();++f<c;)ca(a,e[f],d,g,h);return k(g),k(h),a}function Na(a,b,c){var e={};if("function"!=typeof b){var f=[];gd(a,function(a,b){f.push(b)}),f=$(f,_(arguments,!0,!1,1));for(var g=-1,h=f.length;++g<h;){var i=f[g];e[i]=a[i]}}else b=d.createCallback(b,c,3),gd(a,function(a,c,d){b(a,c,d)||(e[c]=a)});return e}function Oa(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Pa(a,b,c){var e={};if("function"!=typeof b)for(var f=-1,g=_(arguments,!0,!1,1),h=Ea(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else b=d.createCallback(b,c,3),gd(a,function(a,c,d){b(a,c,d)&&(e[c]=a)});return e}function Qa(a,b,c,e){var f=Zc(a);if(null==c)if(f)c=[];else{var g=a&&a.constructor,h=g&&g.prototype;c=W(h)}return b&&(b=d.createCallback(b,e,4),(f?Ya:hd)(a,function(a,d,e){return b(c,a,d,e)})),c}function Ra(a){for(var b=-1,c=_c(a),d=c.length,e=nc(d);++b<d;)e[b]=a[c[b]];return e}function Sa(a){for(var b=arguments,c=-1,d=_(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=nc(e);++c<e;)f[c]=a[d[c]];return f}function Ta(a,b,c){var d=-1,e=ia(),f=a?a.length:0,g=!1;return c=(0>c?Sc(0,f+c):c)||0,Zc(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Ja(a)?a.indexOf(b,c):e(a,b,c))>-1:hd(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function Ua(a,b,c){var e=!0;b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&(e=!!b(a[f],f,a)););else hd(a,function(a,c,d){return e=!!b(a,c,d)});return e}function Va(a,b,c){var e=[];b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g;){var h=a[f];b(h,f,a)&&e.push(h)}else hd(a,function(a,c,d){b(a,c,d)&&e.push(a)});return e}function Wa(a,b,c){b=d.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"!=typeof f){var g;return hd(a,function(a,c,d){return b(a,c,d)?(g=a,!1):void 0}),g}for(;++e<f;){var h=a[e];if(b(h,e,a))return h}}function Xa(a,b,c){var e;return b=d.createCallback(b,c,3),Za(a,function(a,c,d){return b(a,c,d)?(e=a,!1):void 0}),e}function Ya(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else hd(a,b);return a}function Za(a,b,c){var d=a?a.length:0;if(b=b&&"undefined"==typeof c?b:Y(b,c,3),"number"==typeof d)for(;d--&&b(a[d],d,a)!==!1;);else{var e=_c(a);d=e.length,hd(a,function(a,c,f){return c=e?e[--d]:--d,b(f[c],c,f)})}return a}function $a(a,b){var c=m(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=nc("number"==typeof f?f:0);return Ya(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function _a(a,b,c){var e=-1,f=a?a.length:0;if(b=d.createCallback(b,c,3),"number"==typeof f)for(var g=nc(f);++e<f;)g[e]=b(a[e],e,a);else g=[],hd(a,function(a,c,d){g[++e]=b(a,c,d)});return g}function ab(a,b,c){var f=-(1/0),g=f;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];j>g&&(g=j)}else b=null==b&&Ja(a)?e:d.createCallback(b,c,3),Ya(a,function(a,c,d){var e=b(a,c,d);e>f&&(f=e,g=a)});return g}function bb(a,b,c){var f=1/0,g=f;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&Zc(a))for(var h=-1,i=a.length;++h<i;){var j=a[h];g>j&&(g=j)}else b=null==b&&Ja(a)?e:d.createCallback(b,c,3),Ya(a,function(a,c,d){var e=b(a,c,d);f>e&&(f=e,g=a)});return g}function cb(a,b,c,e){if(!a)return c;var f=arguments.length<3;b=d.createCallback(b,e,4);var g=-1,h=a.length;if("number"==typeof h)for(f&&(c=a[++g]);++g<h;)c=b(c,a[g],g,a);else hd(a,function(a,d,e){c=f?(f=!1,a):b(c,a,d,e)});return c}function db(a,b,c,e){var f=arguments.length<3;return b=d.createCallback(b,e,4),Za(a,function(a,d,e){c=f?(f=!1,a):b(c,a,d,e)}),c}function eb(a,b,c){return b=d.createCallback(b,c,3),Va(a,function(a,c,d){return!b(a,c,d)})}function fb(a,b,c){if(a&&"number"!=typeof a.length&&(a=Ra(a)),null==b||c)return a?a[da(0,a.length-1)]:o;var d=gb(a);return d.length=Tc(Sc(0,b),d.length),d}function gb(a){var b=-1,c=a?a.length:0,d=nc("number"==typeof c?c:0);return Ya(a,function(a){var c=da(0,++b);d[b]=d[c],d[c]=a}),d}function hb(a){var b=a?a.length:0;return"number"==typeof b?b:_c(a).length}function ib(a,b,c){var e;b=d.createCallback(b,c,3);var f=-1,g=a?a.length:0;if("number"==typeof g)for(;++f<g&&!(e=b(a[f],f,a)););else hd(a,function(a,c,d){return!(e=b(a,c,d))});return!!e}function jb(a,b,c){var e=-1,g=Zc(b),h=a?a.length:0,m=nc("number"==typeof h?h:0);for(g||(b=d.createCallback(b,c,3)),Ya(a,function(a,c,d){var f=m[++e]=j();g?f.criteria=_a(b,function(b){return a[b]}):(f.criteria=i())[0]=b(a,c,d),f.index=e,f.value=a}),h=m.length,m.sort(f);h--;){var n=m[h];m[h]=n.value,g||k(n.criteria),l(n)}return m}function kb(a){return a&&"number"==typeof a.length?m(a):Ra(a)}function lb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function mb(a){return $(a,_(arguments,!0,!0,1))}function nb(a,b,c){var e=-1,f=a?a.length:0;for(b=d.createCallback(b,c,3);++e<f;)if(b(a[e],e,a))return e;return-1}function ob(a,b,c){var e=a?a.length:0;for(b=d.createCallback(b,c,3);e--;)if(b(a[e],e,a))return e;return-1}function pb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=-1;for(b=d.createCallback(b,c,3);++g<f&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[0]:o;return m(a,0,Tc(Sc(0,e),f))}function qb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=_a(a,c,d)),_(a,b)}function rb(a,c,d){if("number"==typeof d){var e=a?a.length:0;d=0>d?Sc(0,e+d):d||0}else if(d){var f=Ab(a,c);return a[f]===c?f:-1}return b(a,c,d)}function sb(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=d.createCallback(b,c,3);g--&&b(a[g],g,a);)e++}else e=null==b||c?1:b||e;return m(a,0,Tc(Sc(0,f-e),f))}function tb(){for(var a=[],d=-1,e=arguments.length,f=i(),h=ia(),j=h===b,m=i();++d<e;){var n=arguments[d];(Zc(n)||ma(n))&&(a.push(n),f.push(j&&n.length>=t&&g(d?a[d]:m)))}var o=a[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=f[0];if(n=o[p],(s?c(s,n):h(m,n))<0){for(d=e,(s||m).push(n);--d;)if(s=f[d],(s?c(s,n):h(a[d],n))<0)continue a;r.push(n)}}for(;e--;)s=f[e],s&&l(s);return k(f),k(m),r}function ub(a,b,c){var e=0,f=a?a.length:0;if("number"!=typeof b&&null!=b){var g=f;for(b=d.createCallback(b,c,3);g--&&b(a[g],g,a);)e++}else if(e=b,null==e||c)return a?a[f-1]:o;return m(a,Sc(0,f-e))}function vb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Sc(0,d+c):Tc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function wb(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Kc.call(a,f--,1),e--);return a}function xb(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Sc(0,Cc((b-a)/(c||1))),f=nc(e);++d<e;)f[d]=a,a+=c;return f}function yb(a,b,c){var e=-1,f=a?a.length:0,g=[];for(b=d.createCallback(b,c,3);++e<f;){var h=a[e];b(h,e,a)&&(g.push(h),Kc.call(a,e--,1),f--)}return g}function zb(a,b,c){if("number"!=typeof b&&null!=b){var e=0,f=-1,g=a?a.length:0;for(b=d.createCallback(b,c,3);++f<g&&b(a[f],f,a);)e++}else e=null==b||c?1:Sc(0,b);return m(a,e)}function Ab(a,b,c,e){var f=0,g=a?a.length:f;for(c=c?d.createCallback(c,e,1):Zb,b=c(b);g>f;){var h=f+g>>>1;c(a[h])<b?f=h+1:g=h}return f}function Bb(){return ea(_(arguments,!0,!0))}function Cb(a,b,c,e){return"boolean"!=typeof b&&null!=b&&(e=c,c="function"!=typeof b&&e&&e[b]===a?null:b,b=!1),null!=c&&(c=d.createCallback(c,e,3)),ea(a,b,c)}function Db(a){return $(a,m(arguments,1))}function Eb(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(Zc(c)||ma(c))var d=d?ea($(d,c).concat($(c,d))):c}return d||[]}function Fb(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?ab(md(a,"length")):0,d=nc(0>c?0:c);++b<c;)d[b]=md(a,b);return d}function Gb(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||Zc(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Hb(a,b){if(!Da(b))throw new wc;return function(){return--a<1?b.apply(this,arguments):void 0}}function Ib(a,b){return arguments.length>2?ga(a,17,m(arguments,2),null,b):ga(a,1,null,null,b)}function Jb(a){for(var b=arguments.length>1?_(arguments,!0,!1,1):ua(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=ga(a[e],1,null,null,a)}return a}function Kb(a,b){return arguments.length>2?ga(b,19,m(arguments,2),null,a):ga(b,3,null,null,a)}function Lb(){for(var a=arguments,b=a.length;b--;)if(!Da(a[b]))throw new wc;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Mb(a,b){return b="number"==typeof b?b:+b||a.length,ga(a,4,null,null,null,b)}function Nb(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Da(a))throw new wc;if(b=Sc(0,b)||0,c===!0){var n=!0;m=!1}else Ea(c)&&(n=c.leading,l="maxWait"in c&&(Sc(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var p=function(){var c=b-(od()-g);if(0>=c){e&&Dc(e);var l=j;e=i=j=o,l&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))}else i=Jc(p,c)},q=function(){i&&Dc(i),e=i=j=o,(m||l!==b)&&(k=od(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=od(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var o=l-(g-k),r=0>=o;r?(e&&(e=Dc(e)),k=g,f=a.apply(h,d)):e||(e=Jc(q,o))}return r&&i?i=Dc(i):i||b===l||(i=Jc(p,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Ob(a){if(!Da(a))throw new wc;var b=m(arguments,1);return Jc(function(){a.apply(o,b)},1)}function Pb(a,b){if(!Da(a))throw new wc;var c=m(arguments,2);return Jc(function(){a.apply(o,c)},b)}function Qb(a,b){if(!Da(a))throw new wc;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):s+arguments[0];return Hc.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Rb(a){var b,c;if(!Da(a))throw new wc;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Sb(a){return ga(a,16,m(arguments,1))}function Tb(a){return ga(a,32,null,m(arguments,1))}function Ub(a,b,c){var d=!0,e=!0;if(!Da(a))throw new wc;return c===!1?d=!1:Ea(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),T.leading=d,T.maxWait=b,T.trailing=e,Nb(a,b,T)}function Vb(a,b){return ga(b,16,[a])}function Wb(a){return function(){return a}}function Xb(a,b,c){var d=typeof a;if(null==a||"function"==d)return Y(a,b,c);if("object"!=d)return bc(a);var e=_c(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Ea(g)?function(b){for(var c=e.length,d=!1;c--&&(d=ba(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Yb(a){return null==a?"":vc(a).replace(dd,ha)}function Zb(a){return a}function $b(a,b,c){var e=!0,f=b&&ua(b);b&&(c||f.length)||(null==c&&(c=b),g=p,b=a,a=d,f=ua(b)),c===!1?e=!1:Ea(c)&&"chain"in c&&(e=c.chain);var g=a,h=Da(g);Ya(f,function(c){var d=a[c]=b[c];h&&(g.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,f=[c];Ic.apply(f,arguments);var h=d.apply(a,f);if(e||b){if(c===h&&Ea(h))return this;h=new g(h),h.__chain__=b}return h})})}function _b(){return a._=zc,this}function ac(){}function bc(a){return function(b){return b[a]}}function cc(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=Vc();return Tc(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return da(a,b)}function dc(a,b){if(a){var c=a[b];return Da(c)?a[b]():c}}function ec(a,b,c){var e=d.templateSettings;a=vc(a||""),c=fd({},c,e);var f,g=fd({},c.imports,e.imports),i=_c(g),j=Ra(g),k=0,l=c.interpolate||E,m="__p += '",n=uc((c.escape||E).source+"|"+l.source+"|"+(l===C?z:E).source+"|"+(c.evaluate||E).source+"|$","g");a.replace(n,function(b,c,d,e,g,i){return d||(d=e),m+=a.slice(k,i).replace(G,h),c&&(m+="' +\n__e("+c+") +\n'"),g&&(f=!0,m+="';\n"+g+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=c.variable,q=p;q||(p="obj",m="with ("+p+") {\n"+m+"\n}\n"),m=(f?m.replace(w,""):m).replace(x,"$1").replace(y,"$1;"),m="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var s=qc(i,"return "+m+r).apply(o,j)}catch(t){throw t.source=m,t}return b?s(b):(s.source=m,s)}function fc(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=nc(a);for(b=Y(b,c,1);++d<a;)e[d]=b(d);return e}function gc(a){return null==a?"":vc(a).replace(cd,la)}function hc(a){var b=++r;return vc(null==a?"":a)+b}function ic(a){return a=new p(a),a.__chain__=!0,a}function jc(a,b){return b(a),a}function kc(){return this.__chain__=!0,this}function lc(){return vc(this.__wrapped__)}function mc(){return this.__wrapped__}a=a?aa.defaults(X.Object(),a,aa.pick(X,H)):X;var nc=a.Array,oc=a.Boolean,pc=a.Date,qc=a.Function,rc=a.Math,sc=a.Number,tc=a.Object,uc=a.RegExp,vc=a.String,wc=a.TypeError,xc=[],yc=tc.prototype,zc=a._,Ac=yc.toString,Bc=uc("^"+vc(Ac).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Cc=rc.ceil,Dc=a.clearTimeout,Ec=rc.floor,Fc=qc.prototype.toString,Gc=ja(Gc=tc.getPrototypeOf)&&Gc,Hc=yc.hasOwnProperty,Ic=xc.push,Jc=a.setTimeout,Kc=xc.splice,Lc=xc.unshift,Mc=function(){try{var a={},b=ja(b=tc.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Nc=ja(Nc=tc.create)&&Nc,Oc=ja(Oc=nc.isArray)&&Oc,Pc=a.isFinite,Qc=a.isNaN,Rc=ja(Rc=tc.keys)&&Rc,Sc=rc.max,Tc=rc.min,Uc=a.parseInt,Vc=rc.random,Wc={};Wc[K]=nc,Wc[L]=oc,Wc[M]=pc,Wc[N]=qc,Wc[P]=tc,Wc[O]=sc,Wc[Q]=uc,Wc[R]=vc,p.prototype=d.prototype;var Xc=d.support={};Xc.funcDecomp=!ja(a.WinRTError)&&F.test(n),Xc.funcNames="string"==typeof qc.name,d.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:C,variable:"",imports:{_:d}},Nc||(W=function(){function b(){}return function(c){if(Ea(c)){b.prototype=c;var d=new b;b.prototype=null}return d||a.Object()}}());var Yc=Mc?function(a,b){U.value=b,Mc(a,"__bindData__",U),U.value=null}:ac,Zc=Oc||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Ac.call(a)==K||!1},$c=function(a){var b,c=a,d=[];if(!c)return d;if(!V[typeof a])return d;for(b in c)Hc.call(c,b)&&d.push(b);return d},_c=Rc?function(a){return Ea(a)?Rc(a):[]}:$c,ad={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bd=wa(ad),cd=uc("("+_c(bd).join("|")+")","g"),dd=uc("["+_c(ad).join("")+"]","g"),ed=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=Y(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&V[typeof e])for(var k=-1,l=V[typeof e]&&_c(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},fd=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],
e&&V[typeof e])for(var j=-1,k=V[typeof e]&&_c(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},gd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},hd=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!V[typeof e])return f;b=b&&"undefined"==typeof c?b:Y(b,c,3);for(var g=-1,h=V[typeof e]&&_c(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},id=Gc?function(a){if(!a||Ac.call(a)!=P)return!1;var b=a.valueOf,c=ja(b)&&(c=Gc(b))&&Gc(c);return c?a==c||Gc(a)==c:ka(a)}:ka,jd=fa(function(a,b,c){Hc.call(a,c)?a[c]++:a[c]=1}),kd=fa(function(a,b,c){(Hc.call(a,c)?a[c]:a[c]=[]).push(b)}),ld=fa(function(a,b,c){a[c]=b}),md=_a,nd=Va,od=ja(od=pc.now)&&od||function(){return(new pc).getTime()},pd=8==Uc(v+"08")?Uc:function(a,b){return Uc(Ja(a)?a.replace(D,""):a,b||0)};return d.after=Hb,d.assign=ed,d.at=Sa,d.bind=Ib,d.bindAll=Jb,d.bindKey=Kb,d.chain=ic,d.compact=lb,d.compose=Lb,d.constant=Wb,d.countBy=jd,d.create=pa,d.createCallback=Xb,d.curry=Mb,d.debounce=Nb,d.defaults=fd,d.defer=Ob,d.delay=Pb,d.difference=mb,d.filter=Va,d.flatten=qb,d.forEach=Ya,d.forEachRight=Za,d.forIn=gd,d.forInRight=sa,d.forOwn=hd,d.forOwnRight=ta,d.functions=ua,d.groupBy=kd,d.indexBy=ld,d.initial=sb,d.intersection=tb,d.invert=wa,d.invoke=$a,d.keys=_c,d.map=_a,d.mapValues=La,d.max=ab,d.memoize=Qb,d.merge=Ma,d.min=bb,d.omit=Na,d.once=Rb,d.pairs=Oa,d.partial=Sb,d.partialRight=Tb,d.pick=Pa,d.pluck=md,d.property=bc,d.pull=wb,d.range=xb,d.reject=eb,d.remove=yb,d.rest=zb,d.shuffle=gb,d.sortBy=jb,d.tap=jc,d.throttle=Ub,d.times=fc,d.toArray=kb,d.transform=Qa,d.union=Bb,d.uniq=Cb,d.values=Ra,d.where=nd,d.without=Db,d.wrap=Vb,d.xor=Eb,d.zip=Fb,d.zipObject=Gb,d.collect=_a,d.drop=zb,d.each=Ya,d.eachRight=Za,d.extend=ed,d.methods=ua,d.object=Gb,d.select=Va,d.tail=zb,d.unique=Cb,d.unzip=Fb,$b(d),d.clone=na,d.cloneDeep=oa,d.contains=Ta,d.escape=Yb,d.every=Ua,d.find=Wa,d.findIndex=nb,d.findKey=qa,d.findLast=Xa,d.findLastIndex=ob,d.findLastKey=ra,d.has=va,d.identity=Zb,d.indexOf=rb,d.isArguments=ma,d.isArray=Zc,d.isBoolean=xa,d.isDate=ya,d.isElement=za,d.isEmpty=Aa,d.isEqual=Ba,d.isFinite=Ca,d.isFunction=Da,d.isNaN=Fa,d.isNull=Ga,d.isNumber=Ha,d.isObject=Ea,d.isPlainObject=id,d.isRegExp=Ia,d.isString=Ja,d.isUndefined=Ka,d.lastIndexOf=vb,d.mixin=$b,d.noConflict=_b,d.noop=ac,d.now=od,d.parseInt=pd,d.random=cc,d.reduce=cb,d.reduceRight=db,d.result=dc,d.runInContext=n,d.size=hb,d.some=ib,d.sortedIndex=Ab,d.template=ec,d.unescape=gc,d.uniqueId=hc,d.all=Ua,d.any=ib,d.detect=Wa,d.findWhere=Wa,d.foldl=cb,d.foldr=db,d.include=Ta,d.inject=cb,$b(function(){var a={};return hd(d,function(b,c){d.prototype[c]||(a[c]=b)}),a}(),!1),d.first=pb,d.last=ub,d.sample=fb,d.take=pb,d.head=pb,hd(d,function(a,b){var c="sample"!==b;d.prototype[b]||(d.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new p(f,e):f})}),d.VERSION="2.4.2",d.prototype.chain=kc,d.prototype.toString=lc,d.prototype.value=mc,d.prototype.valueOf=mc,Ya(["join","pop","shift"],function(a){var b=xc[a];d.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new p(c,a):c}}),Ya(["push","reverse","sort","unshift"],function(a){var b=xc[a];d.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),Ya(["concat","slice","splice"],function(a){var b=xc[a];d.prototype[a]=function(){return new p(b.apply(this.__wrapped__,arguments),this.__chain__)}}),d}var o,p=[],q=[],r=0,s=+new Date+"",t=75,u=40,v=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",w=/\b__p \+= '';/g,x=/\b(__p \+=) '' \+/g,y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,A=/\w*$/,B=/^\s*function[ \n\r\t]+\w/,C=/<%=([\s\S]+?)%>/g,D=RegExp("^["+v+"]*0+(?=.$)"),E=/($^)/,F=/\bthis\b/,G=/['\n\r\t\u2028\u2029\\]/g,H=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],I=0,J="[object Arguments]",K="[object Array]",L="[object Boolean]",M="[object Date]",N="[object Function]",O="[object Number]",P="[object Object]",Q="[object RegExp]",R="[object String]",S={};S[N]=!1,S[J]=S[K]=S[L]=S[M]=S[O]=S[P]=S[Q]=S[R]=!0;var T={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},V={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},W={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=V[typeof a]&&a||this,Y=V[typeof exports]&&exports&&!exports.nodeType&&exports,Z=V[typeof module]&&module&&!module.nodeType&&module,$=Z&&Z.exports===Y&&Y,_=V[typeof global]&&global;!_||_.global!==_&&_.window!==_||(X=_);var aa=n();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=aa,define(function(){return aa})):Y&&Z?$?(Z.exports=aa)._=aa:Y._=aa:X._=aa}.call(this);var b={VERSION:"0.3.4",defaults:{perPage:50}};a.Hook=b,b.Client=function(c){c||(c={}),this.endpoint=c.endpoint||c.url||a.location.origin,this.app_id=c.app_id||c.appId||"",this.key=c.key||"",this.options="undefined"!=typeof c.options?c.options:{},this.endpoint.lastIndexOf("/")!=this.endpoint.length-1&&(this.endpoint+="/"),this.keys=new b.KeyValues(this),this.auth=new b.Auth(this),this.system=new b.System(this),b.Plugin.Manager.setup(this)},b.Client.prototype.collection=function(a){return new b.Collection(this,a)},b.Client.prototype.channel=function(a,c){"undefined"==typeof c&&(c={});var d=this.collection(a);return d.segments=d.segments.replace("collection/","channel/"),c.transport||(c.transport="sse"),c.transport=c.transport.toUpperCase(),new b.Channel[c.transport](this,d,c)},b.Client.prototype.url=function(a,b){var c="";return b&&(c="&"+this.serialize(b)),this.endpoint+a+this._getCredentialsParams()+c},b.Client.prototype.post=function(a,b){return"undefined"==typeof b&&(b={}),this.request(a,"POST",b)},b.Client.prototype.get=function(a,b){return this.request(a,"GET",b)},b.Client.prototype.put=function(a,b){return this.request(a,"PUT",b)},b.Client.prototype.remove=function(a,b){return this.request(a,"DELETE",b)},b.Client.prototype.request=function(a,b,c){var d,e,f=!1;c&&c._sync&&(delete c._sync,f=!0),d=this.getPayload(b,c),e=this.getHeaders(),d instanceof FormData||(e["Content-Type"]="application/json"),"GET"!==b&&"POST"!==b&&this.options.method_override&&(e["X-HTTP-Method-Override"]=b,b="POST"),"undefined"!=typeof XDomainRequest&&(a+=this._getCredentialsParams()+"&r="+Math.floor(1e3*Math.random()));var g=new Promise(function(c,g){var h=uxhr(this.endpoint+a,d,{method:b,headers:e,sync:f,success:function(a){var b,d=null,e=h.getAllResponseHeaders&&h.getAllResponseHeaders()||"";try{d=JSON.parseWithDate(a)}catch(f){}d===!1||null===d||d.error?(d&&d.error&&console.error(d.error),g(d)):(b=e.match(/x-total-count: ([^\n]+)/i),b&&(d.total=parseInt(b[1])),c(d))},error:function(a){var b=null;try{b=JSON.parseWithDate(a)}catch(c){}console.log("Error: ",b||"Invalid JSON response."),g(b)}})}.bind(this));return g},b.Client.prototype.getHeaders=function(){var a,b={"X-App-Id":this.app_id,"X-App-Key":this.key},a=this.auth.getToken();return a&&(b["X-Auth-Token"]=a),b},b.Client.prototype.getPayload=function(a,b){var c=null;if(b){if(b instanceof FormData)c=b;else if("GET"!==a){var d=new FormData,e=!1,f=function(a){var b=a.shift();return a.length>0?b+"["+f(a)+"]":b},g=function(a,b,c){var d,h,i,j=!1;for(d in b)if(h=b[d],i=null,"undefined"!=typeof h&&null!==h){if("boolean"==typeof h||"number"==typeof h||"string"==typeof h)h=h.toString();else if(h instanceof HTMLInputElement&&h.files&&h.files.length>0)i=h.files[0].name,h=h.files[0],e=!0,j=!0;else if(h instanceof HTMLInputElement)h=h.value;else if(h instanceof HTMLCanvasElement)h=dataURLtoBlob(h.toDataURL()),e=!0,i="canvas.png";else if("undefined"!=typeof Blob&&h instanceof Blob)e=!0,i="blob."+h.type.match(/\/(.*)/)[1];else if("object"==typeof h){g(a,h,c.concat(d));continue}if(!(h instanceof Array)){var k=j?d:f(c.concat(d));if("string"==typeof h)a.append(k,h);else try{a.append(k,h,i||"file")}catch(l){}}}};g(d,b,[]),e&&(c=d)}if(c=c||JSON.stringify(b,function(a,b){return this[a]instanceof Date?Math.round(this[a].getTime()/1e3):b}),"{}"==c)return null;"GET"===a&&"string"==typeof c&&(c=encodeURIComponent(c))}return c},b.Client.prototype._getCredentialsParams=function(){var a="?X-App-Id="+this.app_id+"&X-App-Key="+this.key,b=this.auth.getToken();return b&&(a+="&X-Auth-Token="+b),a},b.Client.prototype.serialize=function(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?this.serialize(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")},b.Events=function(){this._events={}},b.Events.prototype.on=function(a,b,c){this._events[a]||(this._events[a]=[]),this._events[a].push({callback:b,context:c||this})},b.Events.prototype.trigger=function(a,b){var c,d=Array.prototype.slice.call(arguments,1);if(this._events[a])for(var e=0,f=this._events[a].length;f>e;e++)c=this._events[a][e],c.callback.apply(c.context||this.client,d)},b.Iterable=function(){},b.Iterable.prototype={each:function(a){return this._iterate("each",a)},find:function(a){return this._iterate("find",a)},filter:function(a){return this._iterate("filter",a)},max:function(a){return this._iterate("max",a)},min:function(a){return this._iterate("min",a)},every:function(a,b){return this._iterate("every",a)},reject:function(a,b){return this._iterate("reject",a,b)},groupBy:function(a,b){return this._iterate("groupBy",a,b)},_iterate:function(a,b,c){var d=when.defer();return this.then(function(e){var f=_[a].call(_,e,b,c);d.resolver.resolve(f)}).otherwise(function(a){d.resolver.reject(a)}),d.promise}},"undefined"==typeof a.FormData&&(a.FormData=function(){this.append=function(){}}),a.location.origin||(a.location.origin=a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")),Promise.prototype.otherwise=function(a){return this["catch"](a)},Promise.prototype.done=function(a){return this.then(a),this["catch"](a),this},b.Plugin={},b.Plugin.Manager={plugins:[]},b.Plugin.Manager.register=function(a,b){this.plugins.push({path:a,klass:b})},b.Plugin.Manager.setup=function(a){for(var b=0,c=this.plugins.length;c>b;b++)a[this.plugins[b].path]=new this.plugins[b].klass(a)},b.Auth=function(c){this.client=c,this.currentUser=null;var d=new Date,e=new Date(a.localStorage.getItem(this.client.app_id+"-"+b.Auth.AUTH_TOKEN_EXPIRATION)),f=a.localStorage.getItem(this.client.app_id+"-"+b.Auth.AUTH_DATA_KEY);f&&d.getTime()<e.getTime()&&(this.currentUser=JSON.parse(f))},b.Auth.prototype=new b.Events,b.Auth.prototype.constructor=b.Auth,b.Auth.AUTH_DATA_KEY="hook-auth-data",b.Auth.AUTH_TOKEN_KEY="hook-auth-token",b.Auth.AUTH_TOKEN_EXPIRATION="hook-auth-token-expiration",b.Auth.prototype.setCurrentUser=function(c){return c?(a.localStorage.setItem(this.client.app_id+"-"+b.Auth.AUTH_DATA_KEY,JSON.stringify(c)),this.currentUser=c,this.trigger("login",c)):(this.trigger("logout",this.currentUser),this.currentUser=c,a.localStorage.removeItem(this.client.app_id+"-"+b.Auth.AUTH_TOKEN_KEY),a.localStorage.removeItem(this.client.app_id+"-"+b.Auth.AUTH_DATA_KEY)),this},b.Auth.prototype.register=function(a){var b,c=this;return"undefined"==typeof a&&(a={}),b=this.client.post("auth/email",a),b.then(function(a){c._registerToken(a)}),b},b.Auth.prototype.login=function(a){var b,c=this;return"undefined"==typeof a&&(a={}),b=this.client.post("auth/email/login",a),b.then(function(a){c._registerToken(a)}),b},b.Auth.prototype.update=function(a){if(!this.currentUser)throw new Error("not logged in.");var b=this,c=this.client.post("auth/update",a);return c.then(function(a){b.setCurrentUser(a)}),c},b.Auth.prototype.forgotPassword=function(a){return"undefined"==typeof a&&(a={}),this.client.post("auth/email/forgotPassword",a)},b.Auth.prototype.resetPassword=function(b){if("string"==typeof b&&(b={password:b}),"undefined"==typeof b.token&&(b.token=a.location.href.match(/[\?|&]token=([a-z0-9]+)/),b.token=b.token&&b.token[1]),"string"!=typeof b.token)throw new Error("forgot password token required. Remember to use 'auth.forgotPassword' before 'auth.resetPassword'.");if("string"!=typeof b.password)throw new Error("new password required.");return this.client.post("auth/email/resetPassword",b)},b.Auth.prototype.logout=function(){return this.setCurrentUser(null)},b.Auth.prototype.getToken=function(){return a.localStorage.getItem(this.client.app_id+"-"+b.Auth.AUTH_TOKEN_KEY)},b.Auth.prototype._registerToken=function(c){c.token&&(a.localStorage.setItem(this.client.app_id+"-"+b.Auth.AUTH_TOKEN_KEY,c.token.token),a.localStorage.setItem(this.client.app_id+"-"+b.Auth.AUTH_TOKEN_EXPIRATION,c.token.expire_at),delete c.token,this.setCurrentUser(c))},b.Channel={},b.Collection=function(a,b){this.client=a,this.name=this._validateName(b),this.reset(),this.segments="collection/"+this.name},b.Collection.prototype=new b.Iterable,b.Collection.prototype.constructor=b.Collection,b.Collection.prototype.create=function(a){return this.options.data=a,this.client.post(this.segments,this.buildQuery())},b.Collection.prototype.select=function(){return this.options.select=arguments,this},b.Collection.prototype.get=function(){return this.client.get(this.segments,this.buildQuery())},b.Collection.prototype.where=function(a,b,c,d){var e,f="undefined"==typeof c?"=":b,g="undefined"==typeof c?b:c,h="undefined"==typeof d?"and":d;if("object"==typeof a)for(e in a)a.hasOwnProperty(e)&&(f="=",a[e]instanceof Array?(f=a[e][0],g=a[e][1]):g=a[e],this.addWhere(e,f,g,h));else this.addWhere(a,f,g,h);return this},b.Collection.prototype.orWhere=function(a,b,c){return this.where(a,b,c,"or")},b.Collection.prototype.find=function(a){var b=this.client.get(this.segments+"/"+a,this.buildQuery());return arguments.length>1?b.then.apply(b,Array.prototype.slice.call(arguments,1)):b},b.Collection.prototype.join=function(){return this.options["with"]=arguments,this},b.Collection.prototype.distinct=function(){return this.options.distinct=!0,this},b.Collection.prototype.group=function(){return this._group=arguments,this},b.Collection.prototype.count=function(a){a="undefined"==typeof a?"*":a,this.options.aggregation={method:"count",field:a};var b=this.get();return arguments.length>0&&b.then.apply(b,arguments),b},b.Collection.prototype.max=function(a){this.options.aggregation={method:"max",field:a};var b=this.get();return arguments.length>1&&b.then.apply(b,Array.prototype.slice.call(arguments,1)),b},b.Collection.prototype.min=function(a){this.options.aggregation={method:"min",field:a};var b=this.get();return arguments.length>1&&b.then.apply(b,Array.prototype.slice.call(arguments,1)),b},b.Collection.prototype.avg=function(a){this.options.aggregation={method:"avg",field:a};var b=this.get();return arguments.length>1&&b.then.apply(b,Array.prototype.slice.call(arguments,1)),b},b.Collection.prototype.sum=function(a){this.options.aggregation={method:"sum",field:a};var b=this.get();return arguments.length>1&&b.then.apply(b,Array.prototype.slice.call(arguments,1)),b},b.Collection.prototype.first=function(){this.options.first=1;var a=this.get();return a.then.apply(a,arguments),a},b.Collection.prototype.firstOrCreate=function(a){return this.options.first=1,this.options.data=a,this.client.post(this.segments,this.buildQuery())},b.Collection.prototype.then=function(){var a=this.get();return a.then.apply(a,arguments),a},b.Collection.prototype.debug=function(a){return a="undefined"==typeof a?"log":a,this.then(console[a].bind(console))},b.Collection.prototype.reset=function(){return this.options={},this.wheres=[],this.ordering=[],this._group=[],this._limit=null,this._offset=null,this._remember=null,this},b.Collection.prototype.sort=function(a,b){return b?"number"==typeof b&&(b=-1===parseInt(b,10)?"desc":"asc"):b="asc",this.ordering.push([a,b]),this},b.Collection.prototype.limit=function(a){return this._limit=a,this},b.Collection.prototype.offset=function(a){return this._offset=a,this},b.Collection.prototype.remember=function(a){return this._remember=a,this},b.Collection.prototype.channel=function(a){throw new Error("Not implemented.")},b.Collection.prototype.drop=function(){return this.client.remove(this.segments)},b.Collection.prototype.remove=function(a){var b=this.segments;return"undefined"!=typeof a&&(b+="/"+a),this.client.remove(b,this.buildQuery())},b.Collection.prototype.update=function(a,b){return b||"object"!=typeof a?(console.log(".update(_id, data) method will be deprecated. Please use .update(data) instead."),this.client.post(this.segments+"/"+a,b)):(this.options.data=b,this.client.put(this.segments,this.buildQuery()))},b.Collection.prototype.increment=function(a,b){this.options.operation={method:"increment",field:a,value:b||1};var c=this.client.put(this.segments,this.buildQuery());return arguments.length>0&&c.then.apply(c,arguments),c},b.Collection.prototype.decrement=function(a,b){this.options.operation={method:"decrement",field:a,value:b||1};var c=this.client.put(this.segments,this.buildQuery());return arguments.length>0&&c.then.apply(c,arguments),c},b.Collection.prototype.updateAll=function(a){return console.log(".updateAll() method will be deprecated. Please use .update() instead."),this.options.data=a,this.client.put(this.segments,this.buildQuery())},b.Collection.prototype.addWhere=function(a,b,c,d){return this.wheres.push([a,b.toLowerCase(),c,d]),this},b.Collection.prototype._validateName=function(a){var b=/^[a-z_\/0-9]+$/;if(!b.test(a))throw new Error("Invalid name: "+a);return a},b.Collection.prototype.buildQuery=function(){var a={};null!==this._limit&&(a.limit=this._limit),null!==this._offset&&(a.offset=this._offset),null!==this._remember&&(a.remember=this._remember),this.wheres.length>0&&(a.q=this.wheres),this.ordering.length>0&&(a.s=this.ordering),this._group.length>0&&(a.g=this._group);var b,c={paginate:"p",first:"f",aggregation:"aggr",operation:"op",data:"data","with":"with",select:"select",distinct:"distinct"};for(b in c)this.options[b]&&(a[c[b]]=this.options[b]);return this.reset(),a},b.Collection.prototype.clone=function(){var a=this.client.collection(this.name);return a.options=_.clone(this.options),a.wheres=_.clone(this.wheres),a.ordering=_.clone(this.ordering),a._group=_.clone(this._group),a._limit=_.clone(this._limit),a._offset=_.clone(this._offset),a._remember=_.clone(this._remember),a},b.KeyValues=function(a){this.client=a},b.KeyValues.prototype.get=function(a,b){var c=this.client.get("key/"+a);return b&&c.then.apply(c,[b]),c},b.KeyValues.prototype.set=function(a,b){return this.client.post("key/"+a,{value:b})},b.Model=function(){},b.System=function(a){this.client=a},b.System.prototype.time=function(){var a=this.client.get("system/time");return arguments.length>0&&a.then.apply(a,arguments),a},b.Channel.SSE=function(a,b,c){this.collection=b,this.client_id=null,this.callbacks={},this.options=c||{},this.readyState=null},b.Channel.SSE.prototype.subscribe=function(a,b){"undefined"==typeof b&&(b=a,a="_default"),this.callbacks[a]=b;var c=this.connect();if(this.readyState===EventSource.CONNECTING){var d=this;c.then(function(){d.event_source.onopen=function(a){d.readyState=a.readyState,d._trigger.apply(d,["state:"+a.type,a])},d.event_source.onerror=function(a){d.readyState=a.readyState,d._trigger.apply(d,["state:"+a.type,a])},d.event_source.onmessage=function(a){var b=JSON.parse(a.data),c=b.event;delete b.event,d._trigger.apply(d,[c,b])}})}return c},b.Channel.SSE.prototype._trigger=function(a,b){console.log("Trigger: ",a,b),-1===a.indexOf("state:")&&this.callbacks._default&&this.callbacks._default.apply(this,[a,b]),this.callbacks[a]&&this.callbacks[a].apply(this,[b])},b.Channel.SSE.prototype.isConnected=function(){return null!==this.readyState&&this.readyState!==EventSource.CLOSED},b.Channel.SSE.prototype.unsubscribe=function(a){this.callbacks[a]&&(this.callbacks[a]=null)},b.Channel.SSE.prototype.publish=function(a,b){return"undefined"==typeof b&&(b={}),b.client_id=this.client_id,b.event=a,this.collection.create(b)},b.Channel.SSE.prototype.connect=function(){if(null!==this.readyState){var b=when.defer();return b.resolver.resolve(),b.promise}this.readyState=EventSource.CONNECTING,this._trigger.apply(this,["state:connecting"]);var c=this;return this.publish("connected").then(function(b){c.collection.where("updated_at",">",b.updated_at);var d=c.collection.buildQuery();d.stream={refresh:c.options.refresh_timeout||1,retry:c.options.retry_timeout||1},c.client_id=b.client_id,c.event_source=new EventSource(c.collection.client.url(c.collection.segments)+"&"+JSON.stringify(d),{withCredentials:!0}),a.addEventListener("unload",function(a){c.disconnect(!0)})},function(a){c.readyState=EventSource.CLOSED,c._trigger.apply(c,["state:error",a])})},b.Channel.SSE.prototype.disconnect=function(a){return this.isConnected()&&(this.close(),this.publish("disconnected",{_sync:"undefined"!=typeof a&&a})),this},b.Channel.SSE.prototype.close=function(){return this.event_source&&this.event_source.close(),this.readyState=EventSource.CLOSED,this},b.Channel.WEBSOCKETS=function(b,c,d){var e=this;if(this.client=b,this.collection=c,this.client_id=null,!d.url){var f="https:"===a.location.protocol?"wss://":"ws://",g=b.url.replace(/(?:https?:)?\/\//,f);g.match(/index\.php/)?g=g.replace("index.php","ws/"):g+="ws/",d.url=g}d.url+=this.collection.name+"?X-App-Id="+this.client.app_id+"&X-App-Key="+this.client.key;var h=this.client.auth.getToken();h&&(d.url+="&X-Auth-Token="+h),ab.debug(d.debug===!0,d.verbose===!0,d.debug===!0),this.queued_subscriptions={},this.on("connected",function(){for(var a in e.queued_subscriptions)e.queued_subscriptions.hasOwnProperty(a)&&e.subscribe(a,e.queued_subscriptions[a]);e.queued_subscriptions=null}),ab.connect(d.url,function(a){e.ws=a,e.client_id=a.sessionid(),e.trigger("connected")},function(a){console.error("Can't connect with WebSocket server: "+d.url,a)},{retryDelay:1e3,maxRetries:10})},b.Channel.WEBSOCKETS.prototype=new b.Events,b.Channel.WEBSOCKETS.prototype.constructor=b.Channel.WEBSOCKETS,b.Channel.WEBSOCKETS.prototype.subscribe=function(a,b){return this.ws?this.ws.subscribe(this.collection.name+"."+a,function(a,c){b(c)}):this.queued_subscriptions[a]=b,this},b.Channel.WEBSOCKETS.prototype.isConnected=function(){return this.ws&&this.ws._websocket_connected},b.Channel.WEBSOCKETS.prototype.unsubscribe=function(a){return this.ws&&this.ws._subscriptions[this.collection.name+"."+a]&&this.ws.unsubscribe(this.collection.name+"."+a),this},b.Channel.WEBSOCKETS.prototype.publish=function(a,b,c){var d=[],e=[];return"undefined"==typeof c&&(c={}),c.exclude&&c.exclude instanceof Array&&(d=c.exclude),c.eligible&&c.eligible instanceof Array&&(e=c.eligible),this.ws.publish(this.collection.name+"."+a,b,d,e),this},b.Channel.WEBSOCKETS.prototype.disconnect=function(){return this.ws.close(),this},b.Channel.WEBSOCKETS.prototype.call=function(a,b){return this.ws.call(a,b),this},b.Channel.WEBSOCKETS.prototype.connect=function(){return this.ws.connect(),this}}(window);